<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>å•†å“åˆ—è¡¨</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" type="text/css" th:href="@{/bootstrap/css/bootstrap.min.css}"/>
    <script type="text/javascript" th:src="@{/bootstrap/js/bootstrap.min.js}"></script>
    <script type="text/javascript" th:src="@{/layer/layer.js}"></script>
    <script>
        // $(document).ready(function () {
        //     function parseUrl() {
        //         var url = location.href;
        //         encodeURI(url);
        //         var i = url.indexOf('?');
        //         if (i == -1) return;
        //         var querystr = url.substr(i + 1);
        //         var arr1 = querystr.split('&');
        //         var arr2 = new Object();
        //         for (i in arr1) {
        //             var ta = arr1[i].split('=');
        //             arr2[ta[0]] = ta[1];
        //         }
        //         return arr2;
        //     }
        //
        //     var v = parseUrl();//è§£ææ‰€æœ‰å‚æ•°
        //     // alert(v['name']);//å°±æ˜¯ä½ è¦çš„ç»“æœ
        //     var name = decodeURI(v['name']);
        //     document.getElementById('search').innerHTML = 'æ¬¢è¿æ‚¨ï¼' + name;
        //
        //     // $("#reset").click(function (){
        //     //     var url = 'update&password.html?name=' + name;
        //     //     window.location.href = url;
        //     // });
        // });
        /**
         * å‰ç«¯æ¥å—ModelåŠ¨æ€ä¼ å€¼çš„
         */
        // $(document).ready(function () {
            //å•ç‹¬å†™æ³•
            // var result = [[${username}]];
            // document.getElementById('username').innerHTML='æ¬¢è¿æ‚¨ï¼' + result;
        // });
        // var zongshu = 123456;
        // document.getElementById('username').innerHTML = zongshu;

    </script>
    <style>
        #reset{
            text-align: center;
            color: darkblue;
            background-color: rgb(225,225,0,60%);
        }
    </style>
</head>
<body>
<!--<h1 id="search" style="color: skyblue; background-color: rgb(225,225,225,60%); text-align: center; margin: 250px 150px"></h1>-->
<!--<p  id="reset">ä¿®æ”¹å¯†ç </p>-->
<div class="panel panel-default">
    <div class="panel-heading" id="reset">å•†å“åˆ—è¡¨</div>
    <div id="username" style="float: left; color: skyblue; background-color: rgb(225,225,225,60%)"></div>
    <div style="float: right"><a href="#" id="jump">ä¿®æ”¹å¯†ç </a></div>
<!--    <div><a href="#" id="jump">ä¿®æ”¹å¯†ç </a></div>-->
    <br>
    <table>
        <tr>
            <td>å•†å“åç§°</td>
            <td>å•†å“å›¾ç‰‡</td>
            <td>å•†å“ä»·æ ¼</td>
            <td>åº“å­˜æ•°é‡</td>
            <td>å•†å“è¯¦æƒ…</td>
        </tr>
        <!-- ä½¿ç”¨ELè¡¨è¾¾å¼è·å–controllerè®¾ç½®çš„ä¼ å‚ -->
            <tr th:each="list:${stockList}">
                <td th:text="${list.name}"></td>
                <td><img th:src="@{${list.goodsImg}}" height="150" width="150"/></td>
                <td th:text="${list.price}"></td>
                <td th:text="${list.stock}"></td>
    <!--            <td th:text="${list.remarks}"></td>-->
    <!--            å°†å•†å“idå’Œç”¨æˆ·åè¿”å›ç»™controllerå±‚-->
<!--                ğŸ¦”RESTé£æ ¼ä¼ å‚Controllerå±‚éœ€è¦éœ€è¦ä½¿ç”¨@PathVariable-->
                <td><a th:href="'/good_detail/' + ${list.getId()} + '/' + ${username}">è¯¦æƒ…</a></td>
            </tr>
    </table>
</div>
<script>
    $(document).ready(function (){

        // var result = decodeURI([[${username}]]);
        document.getElementById('username').innerHTML='æ¬¢è¿æ‚¨ï¼' + '[[${username}]]';

        var url = "/update&password.html?name=" + '[[${username}]]';
        $("#jump").attr("href", url);

    })
</script>
</body>
</html>